---
- name: Initial Playbook
  hosts: all
  gather_facts: no
  connection: network_cli
  tasks:
    -- name: Merge provided configuration with device configuration
  cisco.ios.ios_l3_interfaces:
    config:
      - name: FastEthernet5/0
        ipv4:
          - address: 10.10.1.2/24

    - name: Configure SSH and username
      ios_config:
        lines:
          - conf t
          - username ahmed12 secret ahmed12
          - crypto key generate rsa encryption modulus 1024
          - line vty 0 4
          - transport input ssh
          - login local
      register: result_SSH

    - name: Configure OSPF
      ios_config:
        lines:
          - router ospf 2
          - network 0.0.0.0 255.255.255.255 area 2
      register: result_ospf
